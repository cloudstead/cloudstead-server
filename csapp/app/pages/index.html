<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>cloudstead.io - CloudOs</title>

	<link rel="stylesheet" href="css/app.css" />
	<script src="js/app.js"></script>
	<script src="localize?js/local/strings.js"></script>
</head>
<body class="patterns index">
<section class="off-canvas-wrap" data-offcanvas>
<div class="inner-wrap">
<script type="text/x-handlebars">
	{{#view App.NavbarView}}
	<section class="app-bar">
	<nav class="top-bar" data-top-bar>
		<ul class="title-area">
			<li class="name">
				<h1>
					<a class="brand" href="#">{{t app.title}}</a>
				</h1>
			</li>
			<li class="toggle-topbar menu-icon">
				<a href="#">
					<span></span>
				</a>
			</li>
			
		</ul>
		<section class="top-bar-section">
			<ul class="right">
				{{#if view.authStatus}}
					<li>{{#link-to 'logout'}}Sign out{{/link-to}}</li>
				{{else}}
					<!--<li>{{#link-to 'login'}}Sign in{{/link-to}}</li>-->
				{{/if}}
			</ul>
			<ul class="left">
				<!--<li>{{#link-to 'about'}}About{{/link-to}}</li>-->
				{{#if view.authStatus}}
					<li>{{#link-to 'adminHome'}}Cloud admin{{/link-to}}</li>
				{{else}}
					<!--<li>{{#link-to 'registration'}}Get your own private cloud!{{/link-to}}</li>-->
				{{/if}}
				<!--<li>{{#link-to 'contact'}}Contact{{/link-to}}</li>-->
			</ul>
		</section>
	</nav>
	</section>
	{{/view}}

	{{outlet}}
	{{outlet modal}}

	<footer class="footer">
		<section class="row">
			<div class="row">
				<div class="large-12 columns">
					<ul class="inline-list footer-list">
						<li>
							<span class="copy sans">&copy; 2014 Cloudstead</span>
						</li>
						<li>
							<a href="http://www.cloudstead.io/privacy-policy">Privacy Policy</a>
						</li>
						<li>
							<a href="http://www.cloudstead.io/terms-of-service">Terms of Service</a>
						</li>
					</ul>
				</div>
			</div>
		</section>
	</footer>

</script>
</div>
</section>
<script type="text/x-handlebars" id="index">
<section class="deck">
	<div class="row">
		<div class="medium-12 columns text-center">
			<div><img src="images/wp_header6.png"></div>
		</div>
	</div>
</section>
<section class="deck">
	<div class="row">
		<div class="large-2 medium-2 columns text-center">&nbsp;
		</div>
		<div class="large-3 medium-3 columns text-center">
			<a href="#" class="button expand secondary" {{action 'openModal' 'registration' model}}> Sign-up</a>
		</div>
		<div class="large-2 medium-2 columns text-center topit">
			OR
		</div>
		<div class="large-3 medium-3 columns text-center">
			<a href="" class="button expand" {{action 'openModal' 'login' model}}>Sign-in</a>
		</div>
		<div class="large-2 medium-2 columns text-center">&nbsp;
		</div>
	</div>
</section>
</script>

<script type="text/x-handlebars" id="components/modal-dialog">
	<div class="overlay" {{action "close"}}> 
	</div>
	<div class="modal">
		{{yield}}
	</div>
</script>

<script type="text/x-handlebars" id="about">
	<div class="row">
		<div class="large-12 columns">
			<p class="text-center">
				about page goes here
			</p>
		</div>
	</div>
</script>

<script type="text/x-handlebars" id="contact">
	<div class="row">
		<div class="large-12 columns">
			<p class="text-center">
				contact page goes here
			</p>
		</div>
	</div>
</script>

<script type="text/x-handlebars" id="cloudOsCreation">
{{#modal-dialog}}
<div class="row modal-filler">
	<legend>{{t forms.cloudos.launch_title}}</legend>
</div>
<div class="row modal-content">
	<div class="large-12 columns">
		<p>{{t forms.cloudos.launch_string}} "{{ cloudOsRequest.name }}"</p>
	</div>
	<div class="large-10 columns">
		<div class="progress">
			<span id="progressMeter" class="meter" style="width:0%"></span>
		</div>
		<span><i>{{ statusMessage }}</i> </span>
	</div>
	<div class="large-2 columns">
		<button {{action 'backToAdmin'}} {{bind-attr class=":expand :alert isInProgress:el_hidden"}}>Close</button>
	</div>
</div>
<div class="row modal-filler">
	&nbsp;
</div>
{{/modal-dialog}}
</script>

<script type="text/x-handlebars" id="adminHome">
<section class="deck">
	<div class="row">
		<dl class="tabs" data-tab>
			<dd class="active">{{#link-to 'adminHome'}}Your Cloudsteads{{/link-to}}</dd>
			<dd>{{#link-to 'adminDetails' }}Account details{{/link-to}}</dd>
		</dl>
		<div class="tabs-content">
			<div class="content active">
				{{#if cloudosInstances}}
				<table  width="100%">
					<thead>
						<tr>
							<th>Name
							</th>
							<th>Running
							</th>
							<th>Control
							</th>
						</tr>
					</thead>
					<tbody>
						{{#each cloudosInstances}}
						<tr>
							<td>{{#link-to 'cloudOsStatus' name}}{{name}}{{/link-to}}</td>
							<td>{{running}}</td>
							<td><a href="#" {{action "deleteInstance" name}}><span class="icon-trash-o"></span> Delete</a></td>
						</tr>
						{{/each}}
					</tbody>
				</table>
				{{else}}
					<article class="event-single">
						<p>You have no running Cloudsteads. Click the 'Start Cloudstead' button below to launch one.</p>
					</article>
				{{/if}}
				<form >
					<div class="field-container">
						<div class="row">
							<div class="small-2 columns">
								{{#if cloudosInstances}}
									<h3><a href="#" {{action addMoreClouds}}><span {{bind-attr class="isAddCloudsEnabled:icon-minus:icon-plus"}}></span></a></h3>
								{{else}}
									&nbsp;
								{{/if}}
							</div>
							<div {{bind-attr class=":small-5 :columns isAddCloudsEnabled:el_visible:el_hidden"}}>
								<label for="right-label" class="right msg-mod">{{t forms.cloudos.name}}</label>
							</div>
							<div {{bind-attr class=":small-5 :columns isAddCloudsEnabled:el_visible:el_hidden"}}>
								{{#if requestMessages.error.cloudOsName}}
									{{input type="text" value=cloudOsRequest.name class="error"}}
								{{else}}
									{{input type="text" value=cloudOsRequest.name}}
								{{/if}}

								{{#if requestMessages.error.cloudOsName}}
									<span class="message error">{{requestMessages.error.cloudOsName}}</span>
								{{/if}}
							</div>
						</div>
					</div>
					<div {{bind-attr class=":field-container isAddCloudsEnabled:el_visible:el_hidden"}}>
						<div class="row">
							<div class="small-7 columns">
								&nbsp;
							</div>
							<div class="small-5 columns">
								<button id="cloudOsSubmit" type="submit" class="expand" {{action 'doNewCloudOs'}}>{{t forms.cloudos.new_button}}</button>
							</div>
						</div>
					</div>
					<div id="cloudOsCreating" class="field-container hide">
						<div class="row text-center">
							<img src="images/spinner.gif" />
						</div>
						<div class="row">
							&nbsp;
						</div>
						<div class="row text-center">
							{{t forms.cloudos.cloudos_init}}
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</section>
</script>

<script type="text/x-handlebars" id="adminDetails">
<section class="deck">
	<div class="row">
		<dl class="tabs" data-tab>
			<dd>{{#link-to 'adminHome'}}Your Cloudsteads{{/link-to}}</dd>
			<dd class="active">{{#link-to 'adminDetails' }}Account details{{/link-to}}</dd>
		</dl>
		<div class="tabs-content">
			<div class="content active">
				<form {{action 'updateAdminAccount' on="submit"}}>

		<div class="large-12 columns">
				<div class="field-container">
					<div class="row">
						<div class="small-3 columns">
							<label for="right-label" class="left msg-mod">{{t forms.admin.firstName}}</label>
						</div>
						<div class="small-5 columns">
								{{ input type="text" value=firstName }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.firstName}}
								<span class="message error right">{{requestMessages.error.firstName}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-3 columns">
							<label for="right-label" class="left msg-mod">{{t forms.admin.lastName}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=lastName }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.lastName}}
								<span class="message error right">{{requestMessages.error.lastName}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-3 columns">
							<label for="right-label" class="left msg-mod">{{t forms.admin.email}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=email }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.email}}
								<span class="message error right">{{requestMessages.error.email}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-3 columns">
							<label for="right-label" class="left msg-mod">{{t forms.admin.mobilePhoneCountryCode}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=mobilePhoneCountryCode }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.mobilePhoneCountryCode}}
								<span class="message error right">{{requestMessages.error.mobilePhoneCountryCode}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-3 columns">
							<label for="right-label" class="left msg-mod">{{t forms.admin.mobilePhone}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=mobilePhone }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.mobilePhone}}
								<span class="message error right">{{requestMessages.error.mobilePhone}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="large-3 medium-3 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-5 medium-2 small-6 columns">
								<button type="submit" class="secondary expand" {{action 'updateAdminAccount'}}>Update</button>
						</div>
						<div class="small-2 columns">
							&nbsp;
						</div>
					</div>
					
				</div>
		</div>
</form>
			</div>
		</div>
	</div>
</section>
</script>

<script type="text/x-handlebars" id="cloudOsStatus">
		<div class="row">
			&nbsp;
		</div>
		<div class="row">
			<div class="large-4 large-centered columns">
				<table class='table'>
					<thead>
					<tr>
						<td>message</td>
						<td>time</td>
						<td>error?</td>
					</tr>
					</thead>
					<tr>
						<td><button class="button" {{action 'doRelaunchCloudOs'}}>{{t forms.cloudos.relaunch_button}}</button></td>
					</tr>
					{{#each status.history}}
					<tr>
						<td>{{messageKey}}</td>
						<td>{{timestamp}}</td>
						<td>{{error}}</td>
					</tr>
					{{/each}}
				</table>
			</div>
		</div>
</script>

<script type="text/x-handlebars" id="registration">
{{#modal-dialog action="close"}}
<div class="row modal-filler">
	<legend>{{t sections.registration}}</legend>
</div>
<div class="row modal-content">
<form {{action 'doNewAccount' on="submit"}}>

		<div class="large-12 columns">
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.firstName}}</label>
						</div>
						<div class="small-5 columns">
								{{ input type="text" value=firstName }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.firstName}}
								<span class="message error right">{{requestMessages.error.firstName}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.lastName}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=lastName }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.lastName}}
								<span class="message error right">{{requestMessages.error.lastName}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.email}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=email }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.email}}
								<span class="message error right">{{requestMessages.error.email}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.mobilePhoneCountryCode}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=mobilePhoneCountryCode }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.mobilePhoneCountryCode}}
								<span class="message error right">{{requestMessages.error.mobilePhoneCountryCode}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.mobilePhone}}</label>
						</div>
						<div class="small-5 columns">
							{{ input type="text" value=mobilePhone }}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.mobilePhone}}
								<span class="message error right">{{requestMessages.error.mobilePhone}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.password}}</label>
						</div>
						<div class="small-5 columns">
							{{input type="password" value=password}}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.password}}
								<span class="message error right">{{requestMessages.error.password}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.password2}}</label>
						</div>
						<div class="small-5 columns">
							{{input type="password" value=password2}}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.password2}}
								<span class="message error right">{{requestMessages.error.password2}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right msg-mod">{{t forms.admin.tos}}</label>
						</div>
						<div class="small-5 columns">
							{{input type="checkbox" checkedBinding="tos"}}
						</div>
						<div class="small-2 columns">
							{{#if requestMessages.error.tos}}
								<span class="message error right">{{requestMessages.error.tos}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="large-5 medium-7 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-2 medium-2 small-6 columns">
								<button type="submit" class="alert expand" {{action 'close'}}>{{t forms.admin.cancel_button}}</button>
						</div>
						<div class="large-1 medium-1 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-2 medium-2 small-6 columns">
								<button type="submit" class="secondary expand" {{action 'doNewAccount'}}>{{t forms.admin.signup_button}}</button>
						</div>
						<div class="small-2 columns">
							&nbsp;
						</div>
					</div>
					
				</div>
		</div>
</form>
</div>
<div class="row modal-filler">
	&nbsp;
</div>
{{/modal-dialog}}
</script>

<script type="text/x-handlebars" id="twoFactorVerification">
{{#modal-dialog action="close"}}
<div class="row modal-filler">
	<legend>{{t sections.login_two_factor}}</legend>
</div>
<div class="row modal-content">
		{{#if isFirst}}
			<div class="large-12 columns" style="padding-top:50px; padding-right: 0px;">
				{{t forms.verification.verify_msg}}
			</div>
		{{/if}}
		<div class="large-12 columns" style="padding-bottom:50px; padding-top: 40px;">
			<form {{action 'verifyFactor' on="submit"}}>
				<div class="field-container">
					<div class="row">
						<div class="small-7 columns">
							<label for="right-label" class="right">{{t forms.verification.verify_code}}</label>
						</div>
						<div class="small-5 columns">
							{{#if requestMessages.error.verifyCode}}
								{{ input type="text" value=verifyCode class="error" }}
							{{else}}
								{{ input type="text" value=verifyCode }}
							{{/if}}

							{{#if requestMessages.error.verifyCode}}
								<span class="message error">{{requestMessages.error.verifyCode}}</span>
							{{/if}}
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="large-7 medium-5 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-2 medium-2 small-6 columns">
								<button type="submit" class="alert expand" {{action 'close'}}>{{t forms.admin.cancel_button}}</button>
						</div>
						<div class="large-1 medium-1 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-2 medium-2 small-6 columns">
								<button type="submit" class="secondary expand" {{action 'verifyFactor'}}>{{t forms.verification.verify_submit}}</button>
						</div>
					</div>
				</div>
			</form>
		</div>
</div>
<div class="row modal-filler">
	&nbsp;
</div>
{{/modal-dialog}}
</script>

<script type="text/x-handlebars" id="login">
{{#modal-dialog action="close"}}
<div class="row modal-filler">
	<legend>{{t sections.login}}</legend>
</div>
<div class="row modal-content">
		<div class="large-12 columns" style="padding-top:50px; padding-bottom:50px;">
			<form {{action 'doLogin' on="submit"}}>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right">{{t forms.admin.email}}</label>
						</div>
						<div class="small-5 columns">
							{{#if requestMessages.error.name}}
								{{ input type="text" value=name class="error" }}
							{{else}}
								{{ input type="text" value=name }}
							{{/if}}

							{{#if requestMessages.error.name}}
								<span class="message error">{{requestMessages.error.name}}</span>
							{{/if}}
						</div>
						<div class="large-2 medium-2 hide-for-small columns">
							&nbsp;
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="small-5 columns">
							<label for="right-label" class="right">{{t forms.admin.password}}</label>
						</div>
						<div class="small-5 columns">
									{{#if requestMessages.error.password}}
								{{input type="password" value=password class="error"}}
							{{else}}
								{{input type="password" value=password}}
							{{/if}}

							{{#if requestMessages.error.password}}
								<span class="message error">{{requestMessages.error.password}}</span>
							{{/if}}
						</div>
						<div class="large-2 medium-2 hide-for-small columns">
							&nbsp;
						</div>
					</div>
				</div>
				<div class="field-container">
					<div class="row">
						<div class="large-5 medium-5 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-2 medium-2 small-6 columns">
								<button type="submit" class="alert expand" {{action 'close'}}>{{t forms.admin.cancel_button}}</button>
						</div>
						<div class="large-1 medium-1 hide-for-small columns">
							&nbsp;
						</div>
						<div class="large-2 medium-2 small-6 columns">
								<button type="submit" class="secondary expand" {{action 'doLogin'}}>{{t forms.admin.login_button}}</button>
						</div>
						<div class="large-2 medium-2 hide-for-small columns">
							&nbsp;
						</div>
					</div>
				</div>
			</form>
		</div>
</div>
<div class="row modal-filler">
	&nbsp;
</div>
{{/modal-dialog}}
</script>

</body>
</html>
